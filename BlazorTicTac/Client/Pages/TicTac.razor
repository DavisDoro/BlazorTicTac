@page "/tictac"
@inject TTLogic Logic


<center>
    <h3>Tic Tac Toe</h3>
<div class="board">
    <table style="max-width:320px;">
    @for (int i = 0; i < 3; i++)
    {
        int x = i;
        <tr>
            @for (int j = 0; j < 3; j++)
            {
                int y = j;
                <td @onclick="() => Logic.Mark(x, y, Logic.playerId)">
                    <img src="icons/@(Logic.gameField[x, y]).png" />
                    </td>
            }
            </tr>
    }
    </table>
</div>
<br />

<div class="card-subtitle">Next move player @Logic.playerId</div>
<br />

<button class="btn btn-primary" style="margin:10px;" @onclick="Logic.ConfirmMove"> Confirm</button>
<button class="btn btn-danger" style="margin:10px;" @onclick="Logic.Reset">Reset</button>

@if (Logic.invalidMove)
{
    <div class="validation-message">
        Not valid move!
    </div>
}

@if(Logic.winner && Logic.playerId == 1) // declare winner
{
    <div class="validation-message">
        We have a winner! Player2 wins!
    </div>
}
else if(Logic.winner)
{
    <div class="validation-message">
        We have a winner! Player1 wins!
    </div>
}
</center>
